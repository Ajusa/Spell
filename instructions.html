<!DOCTYPE html>
<html>
<head>
    <title>Spell Instructions</title>
    <style type="text/css">
        h1 {
            font-family: VT323;
            text-align: center;
        }
    </style>

    <!--<script src="js/instructions.js"></script>-->
</head>
<body>
    <h1>Instructions</h1>
    <h2>Movement</h2>
    <table id="controlTable" border="1" width="375px">
        <tr>
            <th>Key</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>A</td>
            <td>Move left</td>
        </tr>
        <tr>
            <td>D</td>
            <td>Move right</td>
        </tr>
        <tr>
            <td>S</td>
            <td>Cast invoked spell</td>
        </tr>
        <tr>
            <td>W</td>
            <td>Jump</td>
        </tr>
        <tr>
            <td>U</td>
            <td>Select EARTH</td>
        </tr>
        <tr>
            <td>I</td>
            <td>Select FIRE</td>
        </tr>
        <tr>
            <td>O</td>
            <td>Select AIR</td>
        </tr>
        <tr>
            <td>P</td>
            <td>Select WATER</td>
        </tr>
        <tr>
            <td><kbd>SHIFT</kbd></td>
            <td>Clear invoked spell</td>
        </tr>
    </table>
    <h2>Spells</h2>
    <p>
        Use combinations of 3 elements to invoke spells.<br />
        For example, selecting FIRE FIRE AIR invokes and casts <i>spell name</i>.
    </p>
    <table id="spellTable" class="spellTable" border="1" width="95%">
        <thead>
            <tr>
                <th>Element Combo</th>
                <th>Keystroke</th>
                <th>Name</th>
                <th>Damage</th>
                <th>Mana Cost</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <h2>Gameplay</h2>
    <p>Not yet implemented.</p>

    <script type="text/javascript" src="js/lib/ajax.min.js"></script>
    <script type="text/javascript">
        var data;
        marmottajax("js/spelldata.json").then(function (content) {
            data = JSON.parse(content);
            data = data.spelldata;
            console.log(data);
        });

        console.log(data);

        var spellTable = document.getElementById("spellTable");
        for (i = 0; i < 20; i++) {
            row = spellTable.insertRow(i + 1);
            combo = row.insertCell(0);
            combo.innerHTML = data.spells[i].keyid.toString()
                .replace("I", "FIRE ")
                .replace("U", "EARTH ")
                .replace("O", "AIR ")
                .replace("P", "WATER ");
            keys = row.insertCell(1);
            keys.innerHTML = data.spells[i].keyid;
            nme = row.insertCell(2);
            nme.innerHTML = data.spells[i].name;
            dmg = row.insertCell(3);
            dmg.innerHTML = data.spells[i].damage;
            manaCost = row.insertCell(4);
            manaCost.innerHTML = data.spells[i].cost;
            desc = row.insertCell(5);
            desc.innerHTML = data.spells[i].desc;
        }
    </script>
</body>
</html>
